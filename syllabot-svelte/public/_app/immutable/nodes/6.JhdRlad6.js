import"../chunks/DsnmJJEf.js";import"../chunks/m-0LQmtk.js";import{o as Z}from"../chunks/2CaVVPCb.js";import{p as $,f as r,b as p,a,d as aa,c as m,s as d,e as M,m as T,g as t,h as N,r as o,t as j}from"../chunks/AgECxNoQ.js";import{s as k}from"../chunks/BmW0P4qu.js";import{i as _}from"../chunks/OeCMHk3k.js";import{e as ta,i as ra}from"../chunks/B8m8Q4zd.js";import{s as oa}from"../chunks/1Ya_UTYH.js";import{i as sa}from"../chunks/CPumr6NK.js";import{T as ea,P as ia}from"../chunks/h__pBkD3.js";import{g as la,c as ma,d as va}from"../chunks/HFaa_CaF.js";var na=r("<p>Loadingâ€¦</p>"),fa=r('<p class="text-red-500"> </p>'),ca=r("<p>No schools found.</p>"),pa=r('<div class="text-gray-500 text-sm"> </div>'),da=r('<li class="list-none flex justify-between items-center"><div><div class="font-bold"> </div> <!></div> <a class="btn btn-primary">Manage</a></li>'),_a=r('<ul class="space-y-2"></ul>'),ua=r('<h3 class="text-lg font-semibold mb-4">Schools</h3> <!>',1),ga=r('<!> <main class="max-w-xl mx-auto mt-8"><!></main>',1);function Ba(S,q){$(q,!1);let u=T([]),B=T(!0),g=T("");Z(async()=>{try{const n=await la(ma(va,"schools"));M(u,n.docs.map(h=>({id:h.id,...h.data()})))}catch{M(g,"Failed to load schools.")}finally{M(B,!1)}}),sa();var C=ga(),F=p(C);ea(F,{title:"Choose a school"});var I=d(F,2),z=m(I);ia(z,{children:(n,h)=>{var L=ua(),A=d(p(L),2);{var E=s=>{var f=na();a(s,f)},G=s=>{var f=N(),H=p(f);{var J=e=>{var i=fa(),x=m(i,!0);o(i),j(()=>k(x,t(g))),a(e,i)},K=e=>{var i=N(),x=p(i);{var O=l=>{var v=ca();a(l,v)},Q=l=>{var v=_a();ta(v,5,()=>t(u),ra,(R,c)=>{var b=da(),y=m(b),w=m(y),U=m(w,!0);o(w);var V=d(w,2);{var W=P=>{var D=pa(),Y=m(D,!0);o(D),j(()=>k(Y,t(c).location)),a(P,D)};_(V,P=>{t(c).location&&P(W)})}o(y);var X=d(y,2);o(b),j(()=>{k(U,t(c).name),oa(X,"href","/management?schoolID="+t(c).id)}),a(R,b)}),o(v),a(l,v)};_(x,l=>{t(u).length===0?l(O):l(Q,!1)},!0)}a(e,i)};_(H,e=>{t(g)?e(J):e(K,!1)},!0)}a(s,f)};_(A,s=>{t(B)?s(E):s(G,!1)})}a(n,L)},$$slots:{default:!0}}),o(I),a(S,C),aa()}export{Ba as component};
