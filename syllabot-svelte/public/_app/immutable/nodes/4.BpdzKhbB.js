import"../chunks/DsnmJJEf.js";import"../chunks/m-0LQmtk.js";import{o as H}from"../chunks/2CaVVPCb.js";import{f as x,c as d,r as c,t as R,a as h,p as U,b as M,d as A,s as w,g as s,m as P,n as E,e as u}from"../chunks/AgECxNoQ.js";import{s as W,e as q}from"../chunks/BmW0P4qu.js";import{p as k,i as F}from"../chunks/OeCMHk3k.js";import{e as $,i as j}from"../chunks/B8m8Q4zd.js";import{r as G}from"../chunks/1Ya_UTYH.js";import{b as J,p as K}from"../chunks/DtU4fxHR.js";import{i as N}from"../chunks/CPumr6NK.js";import{T as O,P as Q}from"../chunks/h__pBkD3.js";import{s as L}from"../chunks/CQs2Misz.js";import{h as V,i as X,d as Y}from"../chunks/HFaa_CaF.js";var Z=x("<div><div> </div></div>");function ee(i,t){let a=k(t,"message",8),o=k(t,"from",8,"bot");var e=Z();let m;var n=d(e);let f;var y=d(n,!0);c(n),c(e),R((_,C)=>{m=L(e,1,"flex mb-2",null,m,_),f=L(n,1,"max-w-xs px-4 py-2 rounded-lg shadow text-sm",null,f,C),W(y,a())},[()=>({"justify-end":o()==="user"}),()=>({"bg-blue-100":o()==="bot","bg-green-100":o()==="user"})]),h(i,e)}var se=x('<button type="button" class="w-full text-left bg-gray-100 rounded-lg px-4 py-2 mb-2 cursor-pointer hover:bg-gray-200"> </button>');function te(i,t){let a=k(t,"suggestion",8),o=k(t,"onClick",8);var e=se(),m=d(e,!0);c(e),R(()=>W(m,a())),q("click",e,function(...n){o()?.apply(this,n)}),h(i,e)}var ae=x('<div class="flex items-center justify-center py-4"><svg class="animate-spin h-6 w-6 text-gray-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v8z"></path></svg></div>');function oe(i){var t=ae();h(i,t)}var re=x('<div class="mb-4"><!> <!></div> <div class="mb-4 flex gap-2"></div> <form class="flex gap-2"><input class="flex-1 border rounded px-3 py-2" placeholder="Type your message..."/> <button class="btn btn-primary" type="submit">Send</button></form>',1),ne=x('<!> <main class="max-w-xl mx-auto mt-8"><!></main>',1);function ye(i,t){U(t,!1);let a=P([{from:"bot",message:"Hello, I'm Syllabot! I can answer questions about your class, help you understand assignments, and more! Type a message below or click a suggestion to get started!"}]),o=P(!1),e=P("");const m=["What's the grading policy?","When are office hours?"];H(async()=>{const l=new URLSearchParams(window.location.search),I=l.get("schoolID"),p=l.get("courseID");if(I&&p){const g=V(Y,"schools",I,"classes",p),v=await X(g);v.exists()&&v.data().name}});async function n(l){l&&(u(a,[...s(a),{from:"user",message:l}]),u(e,""),u(o,!0),setTimeout(()=>{u(a,[...s(a),{from:"bot",message:"This is a placeholder response."}]),u(o,!1)},1e3))}N();var f=ne(),y=M(f);O(y,{title:"Chat with Syllabot"});var _=w(y,2),C=d(_);Q(C,{children:(l,I)=>{var p=re(),g=M(p),v=d(g);$(v,1,()=>s(a),j,(r,b)=>{ee(r,{get message(){return s(b).message},get from(){return s(b).from}})});var S=w(v,2);{var z=r=>{oe(r)};F(S,r=>{s(o)&&r(z)})}c(g);var D=w(g,2);$(D,5,()=>m,j,(r,b)=>{te(r,{get suggestion(){return s(b)},onClick:()=>n(s(b))})}),c(D);var T=w(D,2),B=d(T);G(B),E(2),c(T),J(B,()=>s(e),r=>u(e,r)),q("submit",T,K(()=>n(s(e)))),h(l,p)},$$slots:{default:!0}}),c(_),h(i,f),A()}export{ye as component};
