import{av as d,aw as _,F as n,j as i,a5 as b,ax as h,ay as m}from"./AgECxNoQ.js";function k(e,a,v=a){var c=d(),t=new WeakSet;_(e,"input",l=>{var r=l?e.defaultValue:e.value;if(r=u(e)?f(r):r,v(r),n!==null&&t.add(n),c&&r!==(r=a())){var o=e.selectionStart,s=e.selectionEnd;e.value=r??"",s!==null&&(e.selectionStart=o,e.selectionEnd=Math.min(s,e.value.length))}}),(i&&e.defaultValue!==e.value||b(a)==null&&e.value)&&(v(u(e)?f(e.value):e.value),n!==null&&t.add(n)),h(()=>{var l=a();if(e===document.activeElement){var r=m??n;if(t.has(r))return}u(e)&&l===f(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}function u(e){var a=e.type;return a==="number"||a==="range"}function f(e){return e===""?null:+e}function E(e){return function(...a){var v=a[0];return v.preventDefault(),e?.apply(this,a)}}export{k as b,E as p};
